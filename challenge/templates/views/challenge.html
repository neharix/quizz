{% extends "layouts/main.html" %}
{% load static %}
{% block title %}
    Testler
{% endblock title %}
{% block head %}
    <link rel='stylesheet' href="{% static 'challenge/css/challenge.css' %}">
    <link rel='stylesheet'
          href="{% static 'challenge/css/ckeditor_fault.css' %}">
{% endblock head %}
{% block navbar %}
    <li class="nav-item active">
        <a class="nav-link" role="button">Timer field</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" role="button">Challenge status bar</a>
    </li>
    <li class="nav-item">
        <a class="nav-link"
           role="button"
           data-bs-toggle="offcanvas"
           data-bs-target="#offcanvasRight"
           aria-controls="offcanvasRight">Soraglar</a>
    </li>
{% endblock navbar %}
{% block body %}
    <h3 class="text-center my-3">Sorag:</h3>
    <div class="row m-4">
        <div class="p-3 text-light" id="question">{{ question.content|safe }}</div>
    </div>
    <h3 class="text-center my-3">Jogaplar:</h3>
    <div class="offcanvas offcanvas-end"
         tabindex="-1"
         id="offcanvasRight"
         aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
            <h5 id="offcanvasRightLabel">Soragyň jogaplary</h5>
            <button type="button"
                    class="btn-close text-reset"
                    data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            {% for loop_question in questions %}
                {% if loop_question.is_answered %}
                    <button class="btn btn-outline-dark disabled w-100">Sorag №{{ forloop.counter }}</button>
                {% else %}
                    {% if loop_question.id == question.id %}
                        <button class="btn btn-primary w-100">Sorag №{{ forloop.counter }}</button>
                    {% else %}
                        <button class="btn btn-outline-primary w-100">Sorag №{{ forloop.counter }}</button>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% endblock body %}
